{"ast":null,"code":"import _classCallCheck from\"/home/denjo/Desktop/p5-tuner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/denjo/Desktop/p5-tuner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/denjo/Desktop/p5-tuner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/denjo/Desktop/p5-tuner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/denjo/Desktop/p5-tuner/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ReactDOM from'react-dom';import'./index.css';import Tone from'tone';var note_freq_dic={\"Bb\":Math.pow(2,1/12)*2,\"A\":2,\"B\":Math.pow(2,2/12)*2,\"C\":Math.pow(2,3/12),\"Db\":Math.pow(2,4/12),\"D\":Math.pow(2,5/12),\"Eb\":Math.pow(2,6/12),\"E\":Math.pow(2,7/12),\"F\":Math.pow(2,8/12),\"Gb\":Math.pow(2,9/12),\"G\":Math.pow(2,10/12),\"Ab\":Math.pow(2,11/12),\"Stop\":0,\"None\":0};var osc=new Tone.Oscillator().toMaster();var osc_5=new Tone.Oscillator().toMaster();var osc_8vb=new Tone.Oscillator().toMaster();var osc_3=new Tone.Oscillator().toMaster();var osc_7=new Tone.Oscillator().toMaster();var osc_6=new Tone.Oscillator().toMaster();var osc_4=new Tone.Oscillator().toMaster();var osc_9=new Tone.Oscillator().toMaster();var dist=new Tone.Distortion(0.3).toMaster();osc.connect(dist);osc.volume.value=-24;osc_8vb.volume.value=-39;osc_5.volume.value=-19;osc_3.volume.value=-23;osc_7.volume.value=-23;osc_6.volume.value=-27;osc_9.volume.value=-27;osc_4.volume.value=-27;function note_play(){osc.start();osc_5.start();osc_8vb.start();osc_3.start();osc_7.start();osc_9.start();osc_6.start();osc_4.start();}function note_set(freq,third,seventh,nineth,fourth,sixth,fifth){osc.frequency.value=freq;osc_8vb.frequency.value=freq/2;switch(third){case 0:osc_3.frequency.value=0;break;case 1:osc_3.frequency.value=freq*6/5;break;case 2:osc_3.frequency.value=freq*5/4;break;default:console.debug(\"third error\");break;}switch(fifth){case 0:osc_5.frequency.value=0;break;case 1:osc_5.frequency.value=freq*3/2;break;case 2:osc_5.frequency.value=freq*8/5;break;default:console.debug(\"fifth error\");break;}switch(seventh){case 0:osc_7.frequency.value=0;break;case 1:osc_7.frequency.value=freq*16/9;break;case 2:osc_7.frequency.value=freq*15/8;break;default:console.debug(\"seventh error\");break;}switch(nineth){case 0:osc_9.frequency.value=0;break;case 1:osc_9.frequency.value=freq*16/15*2;break;case 2:osc_9.frequency.value=freq*9/8*2;break;default:console.debug(\"nineth error\");break;}switch(fourth){case 0:osc_4.frequency.value=0;break;case 1:osc_4.frequency.value=freq*4/3*2;break;case 2:osc_4.frequency.value=freq*45/32*2;break;default:console.debug(\"fourth error\");break;}switch(sixth){case 0:osc_6.frequency.value=0;break;case 1:osc_6.frequency.value=freq*8/5*2;break;case 2:osc_6.frequency.value=freq*5/3*2;break;default:console.debug(\"sixth error\");break;}}function note_stop(){osc.stop();osc_5.stop();osc_8vb.stop();osc_3.stop();osc_7.stop();osc_6.stop();osc_9.stop();osc_4.stop();}function freq_set(input,hz,oct){return note_freq_dic[input]*hz*Math.pow(2,oct-4);}function alter_button(s1,s2,s3,st){if(st===2){return s1;}else if(st===1){return s2;}else if(st===0){return s3;}}var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(_props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,_props));_this.stopClick=function(props){note_stop();_this.setState({isPlaying:false});_this.setState({sounding_note:\"Stop\"});_this.setState({freq:0});};_this.hzClick=function(props){var input=props.currentTarget.id;switch(input){case'Hzup':{var herz=_this.state.hz+1;if(herz>480){herz=480;}_this.setState({hz:herz});var freq=freq_set(_this.state.sounding_note,herz,_this.state.oct);_this.setState({freq:freq});note_set(freq,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);break;}case'Hzdown':{var _herz=_this.state.hz-1;if(_herz<400){_herz=400;}_this.setState({hz:_herz});var _freq=freq_set(_this.state.sounding_note,_herz,_this.state.oct);_this.setState({freq:_freq});note_set(_freq,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);break;}default:break;}};_this.octClick=function(props){var input=props.currentTarget.id;switch(input){case'octup':{var oct=_this.state.oct+1;if(oct>8){oct=8;}_this.setState({oct:oct});var freq=freq_set(_this.state.sounding_note,_this.state.hz,oct);_this.setState({freq:freq});note_set(freq,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);break;}case'octdown':{var _oct=_this.state.oct-1;if(_oct<0){_oct=0;}_this.setState({oct:_oct});var _freq2=freq_set(_this.state.sounding_note,_this.state.hz,_oct);_this.setState({freq:_freq2});note_set(_freq2,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);break;}default:break;}};_this.noteClick=function(props){var input=props.currentTarget.id;_this.setState({sounding_note:input});if(!_this.state.isPlaying){_this.setState({isPlaying:true});var freq=freq_set(input,_this.state.hz,_this.state.oct);_this.setState({freq:freq});note_set(freq,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);note_play();}if(_this.state.isPlaying){var _freq3=freq_set(input,_this.state.hz,_this.state.oct);_this.setState({freq:_freq3});note_set(_freq3,_this.state.third,_this.state.seventh,_this.state.nineth,_this.state.fourth,_this.state.sixth,_this.state.fifth);}};_this.handleClick=function(props){var input=props.currentTarget.id;switch(input){case'third':{var third=(_this.state.third+1)%3;_this.setState({third:third});switch(third){case 0:osc_3.frequency.value=0;break;case 1:osc_3.frequency.value=_this.state.freq*6/5;break;case 2:osc_3.frequency.value=_this.state.freq*5/4;// osc_3.frequency.value = this.state.freq*2**(4/12)\nbreak;default:break;}break;}case'seventh':{var seventh=(_this.state.seventh+1)%3;_this.setState({seventh:seventh});switch(seventh){case 0:osc_7.frequency.value=0;break;case 1:osc_7.frequency.value=_this.state.freq*16/9;break;case 2:osc_7.frequency.value=_this.state.freq*15/8;// osc_7.frequency.value = this.state.freq*2**(11/12)\nbreak;default:break;}break;}case'sixth':{var sixth=(_this.state.sixth+1)%3;_this.setState({sixth:sixth});switch(sixth){case 0:osc_6.frequency.value=0;break;case 1:osc_6.frequency.value=_this.state.freq*8/5*2;break;case 2:osc_6.frequency.value=_this.state.freq*5/3*2;break;default:break;}break;}case'fifth':{var fifth=(_this.state.fifth+1)%3;_this.setState({fifth:fifth});switch(fifth){case 0:osc_5.frequency.value=0;break;case 1:osc_5.frequency.value=_this.state.freq*3/2;break;case 2:osc_5.frequency.value=_this.state.freq*8/5;break;default:break;}break;}case'nineth':{var nineth=(_this.state.nineth+1)%3;_this.setState({nineth:nineth});switch(nineth){case 0:osc_9.frequency.value=0;break;case 1:osc_9.frequency.value=_this.state.freq*16/15*2;break;case 2:osc_9.frequency.value=_this.state.freq*9/8*2;break;default:console.debug(\"error nineth\");}break;}case'fourth':{var fourth=(_this.state.fourth+1)%3;_this.setState({fourth:fourth});switch(fourth){case 0:osc_4.frequency.value=0;break;case 1:osc_4.frequency.value=_this.state.freq*4/3*2;break;case 2:osc_4.frequency.value=_this.state.freq*45/32*2;break;default:break;}break;}default:{break;}}};_this.state={sounding_note:\"None\",hz:440,oct:3,freq:0,isPlaying:false,third:0,seventh:0,nineth:0,fourth:0,sixth:0,fifth:0};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"app_all\"},React.createElement(\"h1\",{className:\"title\"},\"p5-tuner\"),React.createElement(\"div\",{className:\"sounding_note\"},this.state.sounding_note,\":\",Math.round(this.state.freq*Math.pow(10,2))/Math.pow(10,2),\"Hz\"),React.createElement(\"div\",{className:\"note_buttons\"},React.createElement(\"div\",{className:\"stop_button\",onClick:this.stopClick},\"Stop\"),React.createElement(\"div\",{id:\"C\",className:\"note_button\",onClick:this.noteClick},\"C\"),React.createElement(\"div\",{id:\"Db\",className:\"note_button\",onClick:this.noteClick},\"Db\"),React.createElement(\"div\",{id:\"D\",className:\"note_button\",onClick:this.noteClick},\"D\"),React.createElement(\"div\",{id:\"Eb\",className:\"note_button\",onClick:this.noteClick},\"Eb\"),React.createElement(\"div\",{id:\"E\",className:\"note_button\",onClick:this.noteClick},\"E\"),React.createElement(\"div\",{id:\"F\",className:\"note_button\",onClick:this.noteClick},\"F\"),React.createElement(\"div\",{id:\"Gb\",className:\"note_button\",onClick:this.noteClick},\"Gb\"),React.createElement(\"div\",{id:\"G\",className:\"note_button\",onClick:this.noteClick},\"G\"),React.createElement(\"div\",{id:\"Ab\",className:\"note_button\",onClick:this.noteClick},\"Ab\"),React.createElement(\"div\",{id:\"A\",className:\"note_button\",onClick:this.noteClick},\"A\"),React.createElement(\"div\",{id:\"Bb\",className:\"note_button\",onClick:this.noteClick},\"Bb\"),React.createElement(\"div\",{id:\"B\",className:\"note_button\",onClick:this.noteClick},\"B\")),React.createElement(\"div\",{className:\"control_buttons\"},React.createElement(\"div\",{id:\"nineth\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"9\",\"b9\",\"OFF\",_this2.state.nineth);}()),React.createElement(\"div\",{id:\"third\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"M3\",\"m3\",\"OFF\",_this2.state.third);}()),React.createElement(\"div\",{id:\"fourth\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"#11\",\"11\",\"OFF\",_this2.state.fourth);}()),React.createElement(\"div\",{id:\"fifth\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"#5\",\"5\",\"OFF\",_this2.state.fifth);}()),React.createElement(\"div\",{id:\"sixth\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"13\",\"b13\",\"OFF\",_this2.state.sixth);}()),React.createElement(\"div\",{id:\"seventh\",className:\"toggle\",onClick:this.handleClick},function(){return alter_button(\"M7\",\"m7\",\"OFF\",_this2.state.seventh);}())),React.createElement(\"div\",{className:\"herz_oct\"},React.createElement(\"div\",{className:\"oct_buttons\"},React.createElement(\"div\",{id:\"octup\",className:\"uptriangle\",onClick:this.octClick}),React.createElement(\"div\",{className:\"herz_name\"},\"Octave:\",this.state.oct),React.createElement(\"div\",{id:\"octdown\",className:\"downtriangle\",onClick:this.octClick})),React.createElement(\"div\",{className:\"herz_buttons\"},React.createElement(\"div\",{id:\"Hzup\",className:\"uptriangle\",onClick:this.hzClick}),React.createElement(\"div\",{className:\"herz_name\"},\"A:\",this.state.hz,\"Hz\"),React.createElement(\"div\",{id:\"Hzdown\",className:\"downtriangle\",onClick:this.hzClick}))),React.createElement(\"div\",{className:\"app_text\"}));}}]);return App;}(React.Component);// ========================================\nReactDOM.render(React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"sources":["/home/denjo/Desktop/p5-tuner/src/index.js"],"names":["React","ReactDOM","Tone","note_freq_dic","osc","Oscillator","toMaster","osc_5","osc_8vb","osc_3","osc_7","osc_6","osc_4","osc_9","dist","Distortion","connect","volume","value","note_play","start","note_set","freq","third","seventh","nineth","fourth","sixth","fifth","frequency","console","debug","note_stop","stop","freq_set","input","hz","oct","alter_button","s1","s2","s3","st","App","props","stopClick","setState","isPlaying","sounding_note","hzClick","currentTarget","id","herz","state","octClick","noteClick","handleClick","Math","round","pow","Component","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Tone from 'tone';\nvar note_freq_dic = {\n    \"Bb\":2**(1/12)*2,\n    \"A\": 2,\n    \"B\": 2**(2/12)*2,\n    \"C\": 2**(3/12),\n    \"Db\":  2**(4/12),\n    \"D\":  2**(5/12),\n    \"Eb\":  2**(6/12),\n    \"E\": 2**(7/12),\n    \"F\":  2**(8/12),\n    \"Gb\":  2**(9/12),\n    \"G\":  2**(10/12),\n    \"Ab\":  2**(11/12),\n    \"Stop\":0,\n    \"None\":0,\n};\nvar osc= new Tone.Oscillator().toMaster();\nvar osc_5 = new Tone.Oscillator().toMaster();\nvar osc_8vb = new Tone.Oscillator().toMaster();\nvar osc_3 = new Tone.Oscillator().toMaster();\nvar osc_7 = new Tone.Oscillator().toMaster();\nvar osc_6 = new Tone.Oscillator().toMaster();\nvar osc_4 = new Tone.Oscillator().toMaster();\nvar osc_9 = new Tone.Oscillator().toMaster();\nvar dist = new Tone.Distortion(0.3).toMaster();\nosc.connect(dist);\nosc.volume.value = -24;\nosc_8vb.volume.value = -39;\nosc_5.volume.value = -19;\nosc_3.volume.value = -23;\nosc_7.volume.value = -23;\nosc_6.volume.value = -27;\nosc_9.volume.value = -27;\nosc_4.volume.value = -27;\n\nfunction note_play(){\n    osc.start();\n    osc_5.start();\n    osc_8vb.start();\n    osc_3.start();\n    osc_7.start();\n    osc_9.start();\n    osc_6.start();\n    osc_4.start();\n}\n\nfunction note_set(freq,third,seventh,nineth,fourth,sixth,fifth){\n    osc.frequency.value = freq;\n    osc_8vb.frequency.value = freq/2;\n    switch(third){\n        case 0:\n            osc_3.frequency.value = 0;\n            break;\n        case 1:\n            osc_3.frequency.value = freq*6/5;\n            break;\n        case 2:\n            osc_3.frequency.value = freq*5/4;\n            break;\n        default:\n            console.debug(\"third error\");\n            break;\n    }\n    switch(fifth){\n        case 0:\n            osc_5.frequency.value = 0;\n            break;\n        case 1:\n            osc_5.frequency.value = freq*3/2;\n            break;\n        case 2:\n            osc_5.frequency.value = freq*8/5;\n            break;\n        default:\n            console.debug(\"fifth error\");\n            break;\n    }\n    switch(seventh){\n        case 0:\n            osc_7.frequency.value = 0;\n            break;\n        case 1:\n            osc_7.frequency.value = freq*16/9;\n            break;\n        case 2:\n            osc_7.frequency.value = freq*15/8;\n            break;\n        default:\n            console.debug(\"seventh error\");\n            break;\n    }\n    switch(nineth){\n        case 0:\n            osc_9.frequency.value = 0;\n            break;\n        case 1:\n            osc_9.frequency.value = freq*16/15*2;\n            break;\n        case 2:\n            osc_9.frequency.value = freq*9/8*2;\n            break;\n        default:\n            console.debug(\"nineth error\");\n            break;\n    }\n    switch(fourth){\n        case 0:\n            osc_4.frequency.value = 0;\n            break;\n        case 1:\n            osc_4.frequency.value = freq*4/3*2;\n            break;\n        case 2:\n            osc_4.frequency.value = freq*45/32*2;\n            break;\n        default:\n            console.debug(\"fourth error\");\n            break;\n    }\n    switch(sixth){\n        case 0:\n            osc_6.frequency.value = 0;\n            break;\n        case 1:\n            osc_6.frequency.value = freq*8/5*2;\n            break;\n        case 2:\n            osc_6.frequency.value = freq*5/3*2;\n            break;\n        default:\n            console.debug(\"sixth error\");\n            break;\n    }\n}\n\nfunction note_stop(){\n    osc.stop();\n    osc_5.stop();\n    osc_8vb.stop();\n    osc_3.stop();\n    osc_7.stop();\n    osc_6.stop();\n    osc_9.stop();\n    osc_4.stop();\n}\nfunction freq_set(input,hz,oct){\n    return note_freq_dic[input]*hz*2**(oct-4)\n}\n\nfunction alter_button(s1,s2,s3,st){\n    if (st === 2) {\n        return s1;\n    }else if(st === 1){\n        return s2;\n    }else if(st === 0){\n        return s3;\n    }\n}\n\n\nclass App extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            sounding_note:\"None\",\n            hz:440,\n            oct:3,\n            freq:0,\n            isPlaying:false,\n            third:0,\n            seventh:0,\n            nineth:0,\n            fourth:0,\n            sixth:0,\n            fifth:0,\n        };\n    }\n    stopClick = (props) => {\n        note_stop()\n        this.setState({isPlaying:false})\n        this.setState({sounding_note:\"Stop\"})\n        this.setState({freq:0})\n    }\n    hzClick = (props) => {\n        const input = props.currentTarget.id\n        switch(input){\n            case 'Hzup':{\n                let herz = this.state.hz + 1\n                if(herz>480){\n                    herz=480\n                }\n                this.setState({hz:herz})\n                let freq = freq_set(this.state.sounding_note,herz,this.state.oct)\n                this.setState({freq:freq})\n                note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n                break;\n            }\n            case 'Hzdown':{\n                let herz = this.state.hz - 1\n                if(herz<400){\n                    herz=400\n                }\n                this.setState({hz:herz})\n                let freq = freq_set(this.state.sounding_note,herz,this.state.oct)\n                this.setState({freq:freq})\n                note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n                break;\n            }\n            default:\n                break;\n        }\n    }\n    octClick = (props) => {\n        const input = props.currentTarget.id\n        switch(input){\n            case 'octup':{\n                let oct = this.state.oct + 1\n                if(oct>8){\n                    oct=8\n                }\n                this.setState({oct:oct})\n                let freq = freq_set(this.state.sounding_note,this.state.hz,oct)\n                this.setState({freq:freq})\n                note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n                break;\n            }\n            case 'octdown':{\n                let oct = this.state.oct - 1\n                if(oct<0){\n                    oct=0\n                }\n                this.setState({oct:oct})\n                let freq = freq_set(this.state.sounding_note,this.state.hz,oct)\n                this.setState({freq:freq})\n                note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    noteClick =(props) =>{\n        const input = props.currentTarget.id\n        this.setState({sounding_note:input})\n        if(!this.state.isPlaying){\n            this.setState({isPlaying:true})\n            let freq = freq_set(input,this.state.hz,this.state.oct)\n            this.setState({freq:freq})\n            note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n            note_play()\n        }if(this.state.isPlaying){\n            let freq = freq_set(input,this.state.hz,this.state.oct)\n            this.setState({freq:freq})\n            note_set(freq,this.state.third,this.state.seventh,this.state.nineth,this.state.fourth,this.state.sixth,this.state.fifth)\n        }\n    }\n    handleClick = (props) => {\n        const input = props.currentTarget.id\n        switch(input){\n            case 'third':{\n                let third = (this.state.third + 1)%3\n                this.setState({third:third})\n                switch(third){\n                    case 0:\n                        osc_3.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_3.frequency.value = this.state.freq*6/5\n                        break;\n                    case 2:\n                        osc_3.frequency.value = this.state.freq*5/4\n                        // osc_3.frequency.value = this.state.freq*2**(4/12)\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            }\n            case 'seventh':{\n                let seventh = (this.state.seventh + 1)%3\n                this.setState({seventh:seventh})\n                switch(seventh){\n                    case 0:\n                        osc_7.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_7.frequency.value = this.state.freq*16/9\n                        break;\n                    case 2:\n                        osc_7.frequency.value = this.state.freq*15/8\n                        // osc_7.frequency.value = this.state.freq*2**(11/12)\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            }\n            case 'sixth':{\n                let sixth = (this.state.sixth + 1)%3\n                this.setState({sixth:sixth})\n                switch(sixth){\n                    case 0:\n                        osc_6.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_6.frequency.value = this.state.freq*8/5*2\n                        break;\n                    case 2:\n                        osc_6.frequency.value = this.state.freq*5/3*2\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            }\n            case 'fifth':{\n                let fifth = (this.state.fifth + 1)%3\n                this.setState({fifth:fifth})\n                switch(fifth){\n                    case 0:\n                        osc_5.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_5.frequency.value = this.state.freq*3/2\n                        break;\n                    case 2:\n                        osc_5.frequency.value = this.state.freq*8/5\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            }\n            case 'nineth':{\n                let nineth = (this.state.nineth + 1)%3\n                this.setState({nineth:nineth})\n                switch(nineth){\n                    case 0:\n                        osc_9.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_9.frequency.value = this.state.freq*16/15*2\n                        break;\n                    case 2:\n                        osc_9.frequency.value = this.state.freq*9/8*2\n                        break;\n                    default:\n                        console.debug(\"error nineth\")\n                }\n                break;\n            }\n            case 'fourth':{\n                let fourth = (this.state.fourth + 1)%3\n                this.setState({fourth:fourth})\n                switch(fourth){\n                    case 0:\n                        osc_4.frequency.value = 0\n                        break;\n                    case 1:\n                        osc_4.frequency.value = this.state.freq*4/3*2\n                        break;\n                    case 2:\n                        osc_4.frequency.value = this.state.freq*45/32*2\n                        break;\n                    default:\n                        break;\n                }\n                break;\n            }\n            default:{\n                break;\n            }\n        }\n    }\n    render(){\n        return(\n            <div　className=\"app_all\">\n                <h1 className=\"title\" >p5-tuner</h1>\n                <div className=\"sounding_note\" >\n                    {this.state.sounding_note}:{Math.round(this.state.freq*Math.pow(10,2))/Math.pow(10,2)}Hz\n                </div>\n\n                <div　className=\"note_buttons\">\n                    <div className=\"stop_button\" onClick={this.stopClick}>\n                        Stop\n                    </div>\n                    <div id=\"C\" className=\"note_button\" onClick={this.noteClick}>\n                        C\n                    </div>\n                    <div id=\"Db\" className=\"note_button\" onClick={this.noteClick}>\n                        Db\n                    </div>\n                    <div id=\"D\" className=\"note_button\" onClick={this.noteClick}>\n                        D\n                    </div>\n                    <div id=\"Eb\" className=\"note_button\" onClick={this.noteClick}>\n                        Eb\n                    </div>\n                    <div id=\"E\" className=\"note_button\" onClick={this.noteClick}>\n                        E\n                    </div>\n                    <div id=\"F\" className=\"note_button\" onClick={this.noteClick}>\n                        F\n                    </div>\n                    <div id=\"Gb\" className=\"note_button\" onClick={this.noteClick}>\n                        Gb\n                    </div>\n                    <div id=\"G\" className=\"note_button\" onClick={this.noteClick}>\n                        G\n                    </div>\n                    <div id=\"Ab\" className=\"note_button\" onClick={this.noteClick}>\n                        Ab\n                    </div>\n                    <div id=\"A\" className=\"note_button\" onClick={this.noteClick}>\n                        A\n                    </div>\n                    <div id=\"Bb\" className=\"note_button\" onClick={this.noteClick}>\n                        Bb\n                    </div>\n                    <div id=\"B\" className=\"note_button\" onClick={this.noteClick}>\n                        B\n                    </div>\n                </div>\n                <div className=\"control_buttons\">\n                    <div id=\"nineth\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"9\",\"b9\",\"OFF\",this.state.nineth)\n                        })()}\n                    </div>\n                    <div id=\"third\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"M3\",\"m3\",\"OFF\",this.state.third)\n                        })()}\n                    </div>\n                    <div id=\"fourth\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"#11\",\"11\",\"OFF\",this.state.fourth)\n                        })()}\n                    </div>\n                    <div id=\"fifth\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"#5\",\"5\",\"OFF\",this.state.fifth)\n                        })()}\n                    </div>\n                    <div id=\"sixth\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"13\",\"b13\",\"OFF\",this.state.sixth)\n                        })()}\n                    </div>\n                    <div id=\"seventh\" className=\"toggle\" onClick={this.handleClick}>\n                        {(()=>{\n                            return alter_button(\"M7\",\"m7\",\"OFF\",this.state.seventh)\n                        })()}\n                    </div>\n                </div>\n                <div className=\"herz_oct\">\n                    <div className=\"oct_buttons\">\n                        <div id=\"octup\" className=\"uptriangle\" onClick={this.octClick}>\n                        </div>\n                        <div className=\"herz_name\">\n                            Octave:{this.state.oct}\n                        </div>\n                        <div id=\"octdown\" className=\"downtriangle\" onClick={this.octClick}>\n                        </div>\n                    </div>\n                    <div className=\"herz_buttons\">\n                        <div id=\"Hzup\" className=\"uptriangle\" onClick={this.hzClick}>\n                        </div>\n                        <div className=\"herz_name\">\n                            A:{this.state.hz}Hz\n                        </div>\n                        <div id=\"Hzdown\" className=\"downtriangle\" onClick={this.hzClick}>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"app_text\">\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// ========================================\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"]},"metadata":{},"sourceType":"module"}